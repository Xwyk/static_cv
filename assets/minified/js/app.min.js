function showSection(sectionId){const section=document.getElementById(sectionId)||document.querySelector(`.${sectionId}-grid`)?.closest('.section');if(section){section.classList.remove('hidden');}}function displayInfos(data){const nameEl=document.querySelector('.name');const jobTitleEl=document.querySelector('.job-title');const locationEl=document.querySelector('.location');const educationEl=document.querySelector('.education');const descriptionEl=document.querySelector('.description');if(nameEl){nameEl.textContent=data.firstName+' '+data.lastName;nameEl.classList.add('loaded');}if(jobTitleEl){jobTitleEl.textContent=data.position;jobTitleEl.classList.add('loaded');}if(locationEl){locationEl.textContent=`ðŸ“ ${data.city}`;locationEl.classList.add('loaded');}if(educationEl){educationEl.textContent=`ðŸŽ“ ${data.degree}`;educationEl.classList.add('loaded');}if(data.description&&descriptionEl){descriptionEl.textContent=data.description;descriptionEl.classList.add('loaded');}if(data.photo){const photoEl=document.querySelector('.profile-photo');if(photoEl){photoEl.src=data.photo;}}}function displayExperiences(experiences){const container=document.querySelector('.experiences-grid');if(!container)return;const html=experiences .map(exp=>`<div class="card"><div class="card-header"><div><h3 class="card-title">${exp.title}</h3><p class="card-subtitle">${exp.company}</p></div><span class="card-year">${exp.year}</span></div><p class="card-description">${exp.description}</p></div>`).join('');container.innerHTML=html;showSection('experiences');}function displayDiplomes(diplomes){const container=document.querySelector('.diplomes-grid');if(!container)return;const html=diplomes .map(d=>`<div class="card"><div class="card-header"><div><h3 class="card-title">${d.title}</h3><p class="card-subtitle">${d.school}</p></div><span class="card-year">${d.year}</span></div></div>`).join('');container.innerHTML=html;showSection('diplomes');}function displayProjets(projets){const container=document.querySelector('.projets-grid');if(!container)return;const html=projets .map(p=>`<div class="card"><div class="card-header"><div><h3 class="card-title">${p.name}</h3>${p.techno ? `<p class="card-subtitle">${p.techno}</p>`:''}</div>${p.year ? `<span class="card-year">${p.year}</span>`:''}</div><p class="card-description">${p.description}</p></div>`).join('');container.innerHTML=html;showSection('projets');}function displayApplications(applications){const container=document.querySelector('.apps-grid');if(!container)return;const html=applications .map(app=>{const icon=app.icon?.startsWith('http')? `<img src="${app.icon}" alt="${app.name}" class="app-icon-img">`:`<div class="app-icon">${app.icon}</div>`;return `<a href="${app.url}" class="app-card" target="_blank" rel="noopener noreferrer">${icon}<h3 class="app-name">${app.name}</h3></a>`;}).join('');container.innerHTML=html;showSection('applications');}function displayCompetences(competences){const container=document.querySelector('.competences-grid');if(!container)return;const html=competences .map(comp=>{const levelDots=Array.from({length:5},(_,i)=>`<span class="level-dot ${i<comp.level ? 'filled':''}"></span>`).join('');return `<div class="competence-card">${comp.icon ? `<div class="competence-icon">${comp.icon}</div>`:''}<h3 class="competence-name">${comp.name}</h3><div class="competence-level">${levelDots}</div></div>`;}).join('');container.innerHTML=html;showSection('competences');}function displayPassions(passions){const container=document.querySelector('.passions-grid');if(!container)return;const html=passions .map(passion=>`<div class="passion-card">${passion.icon ? `<div class="passion-icon">${passion.icon}</div>`:''}<h3 class="passion-name">${passion.name}</h3><p class="passion-description">${passion.description}</p></div>`).join('');container.innerHTML=html;showSection('passions');}function displayContact(liens){const container=document.querySelector('.contact-grid');if(!container)return;const html=liens .map(item=>{const icon=item.icon?.startsWith('http')? `<img src="${item.icon}" alt="${item.label}" class="contact-icon-img">`:`<div class="contact-icon">${item.icon}</div>`;return `<a href="${item.url}" class="contact-card" target="_blank" rel="noopener noreferrer">${icon}<h3 class="contact-label">${item.label}</h3><p class="contact-value">${item.value}</p></a>`;}).join('');container.innerHTML=html;showSection('contact');}async function loadInfos(){try{const response=await fetch('assets/data/infos.json');if(!response.ok){throw new Error(`HTTP ${response.status}`);}const data=await response.json();displayInfos(data);}catch(error){console.error('Infos:',error.message);}}function loadRestData(){const dataConfigs=[{file:'experiences',fn:displayExperiences},{file:'diplomes',fn:displayDiplomes},{file:'projets',fn:displayProjets},{file:'applications',fn:displayApplications},{file:'competences',fn:displayCompetences},{file:'passions',fn:displayPassions},{file:'contact',fn:displayContact}];dataConfigs.forEach(config=>{fetch(`assets/data/${config.file}.json`).then(response=>(response.ok ? response.json():Promise.reject(new Error(`HTTP ${response.status}`)))).then(data=>config.fn(data)).catch(error=>console.error(config.file,error.message));});}let lastScrollTop=0;document.addEventListener('DOMContentLoaded',()=>{loadInfos();loadRestData();const yearElement=document.querySelector('.year');if(yearElement){yearElement.textContent=new Date().getFullYear();}const navToggle=document.querySelector('.nav-toggle');const navbar=document.querySelector('.navbar');if(navToggle&&navbar){navToggle.addEventListener('click',()=>{const isOpen=navbar.classList.toggle('nav-open');navToggle.setAttribute('aria-expanded',String(isOpen));});}const printBtn=document.getElementById('print-btn');if(printBtn){printBtn.addEventListener('click',()=>{window.open('print.html','_blank');});}});document.querySelectorAll('a[href^="#"]').forEach(link=>{link.addEventListener('click',event=>{event.preventDefault();const targetId=link.getAttribute('href');const targetElement=document.querySelector(targetId);if(targetElement){const navbar=document.querySelector('.navbar');const navbarHeight=navbar ? navbar.offsetHeight:0;window.scrollTo({top:targetElement.offsetTop-navbarHeight,behavior:'smooth'});if(navbar&&navbar.classList.contains('nav-open')){navbar.classList.remove('nav-open');const navToggle=document.querySelector('.nav-toggle');if(navToggle){navToggle.setAttribute('aria-expanded','false');}}}});});window.addEventListener('scroll',()=>{const navbar=document.querySelector('.navbar');if(!navbar)return;const scrollTop=window.pageYOffset;if(navbar.classList.contains('nav-open')){navbar.classList.remove('nav-open');const navToggle=document.querySelector('.nav-toggle');if(navToggle){navToggle.setAttribute('aria-expanded','false');}}if(scrollTop>lastScrollTop&&scrollTop>100){navbar.style.transform='translateY(-100%)';}else{navbar.style.transform='translateY(0)';}lastScrollTop=scrollTop;});